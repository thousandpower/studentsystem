<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jxd.jqstudentgrowthtrackingsystem.dao.IDeptEvaluatorDao">


    <!--模糊分页查询部门评价人信息IPage<Map<String,Object>> getDeptEvaluatorsByPage
            (Page<Map<String,Object>> pages, @Param("username")String username);-->
    <select id="getDeptEvaluatorsByPage" resultType="java.util.Map">
        SELECT dee.evaluatorid,dee.username,dee.age,dee.sex,dee.phone,
        dee.flag,dee.deptno,de.deptname,dee.jobid,j.jobname
        FROM dept_evaluator dee
        LEFT JOIN  job j on dee.jobid = j.jobid
        LEFT  JOIN  dept de on dee.deptno = de.deptno
        WHERE username LIKE '%' #{username} '%' and flag = 0
    </select>


</mapper>